-----------------------------------------------------------------------------
--
--  Module : MPCCOM
--
--  Purpose: Upgrade of MPCCOM database objects from release 14.0.0 to 14.1.0.
--
--  File   : 1410.UPG
--
--  IFS/Design Template Version 2.3
--
--  Date    Sign    History
--  ------  ------  ---------------------------------------------------------
--  200112  SBalLK  Bug 151800(SCZ-8290), Modified statement in 'Timestamp_77' by removing ROUND() to preserve the decimal places in the currency rates.
--  180104  ChJalk  STRSC-11453, Added ORACLE DEFAULT value feature when adding NOT NULL column to a table to improve performance.
--  170505  ShPrlk  Bug 134687, Added trailing period symbol for prompts ending with '-' to solve hanging while deployment.
--  170303  SeJalk  Bug 133678, Modified the block in Timestamp_89 to filter to update records with curr_amount is not 0.
--  160525  SWeelk  Bug 128248, Removed the update of consignment_stock in mpccom_transaction_code_tab for transaction_code CO-RETURN
--  160525          and instead moved it into MpccomSystemEvents.ins file.
--  150525  ErSrLK  MONO-207, Added posting types for SOCLOSE-, SOCLOSE+.
--  141126  JeLise  PBSC-4422, Modified rowtype in CHARACTERISTIC_TAB to be mandatory.
--  141107  DaZase  PRSC-3767, Modified rowtype in CHARACTERISTIC_TEMPL_CHAR_TAB to be mandatory.
--  141007  NaLrlk  Modified column length DESCRIPTION in MPCCOM_SYSTEM_PARAMETER_TAB.
--  140925  Vwloza  Updated inter-site intra-company booking codes to 1.
--  140922  HaPulk  PRSC-2483, Rename Indexes and Constraints
--  140912  NaSalk  Added new posting types for CRATOCO+.
--  140909  HimRlk  PRSC-2104, Added new index SITE_TO_SITE_RESERVE_SETUP_IX2 on site_to_site_reserve_setup_tab.
--  140903  HimRlk  PRSC-1889, Added new index SITE_TO_SITE_RESERVE_SETUP_IX1 on site_to_site_reserve_setup_tab.
--  140828  NaSalk  Added new posting types for COTOCRA-.
--  140820  PeSulk  Added new posting types M249, M250, M251, M252, M253, M254, M255 and M256.
--  140728  AwWelk  PRSC-2012, Renamed obsolete table MPCCOM_SHOP_CALENDAR_TAB.
--  140722  MeAblk  Bug 117925, Removed the update of lu_name and key_ref columns in TECHNICAL_OBJECT_REFERENCE_TAB for LU Site and instead moved them into a post script.
--  140716  HimRlk  Added new column SUPPLY_SITE_AVAIL_ALLOWED to SITE_TO_SITE_RESERVE_SETUP_TAB.
--  140716  MaEelk  Bug 117881, Handled the update statement with CASE corectly for scrapping_cause_tab and statistic_period_tab.
--  140618  ChJalk  PRSC-1314, Modified PROJECT_ACCOUNTING_FLAG to exclude the project prepostings for posting types 'M191', 'M195' and 'M178'.
--  140617  UdGnlk  PRSC-1062, Added posting types M1, M178 to posting events CONDCHGCU+ and CONDCHGCU-.
--  140519  NaLrlk  Added posting types M236, M237, M238, M239, M240 and M241 to event INVOICE-D.
--  140519          Added posting types M242, M243, M244, M245, M246 and M247 to event INVOICE-C.
--  140424  DipeLK  PBFI-6782 ,Removed obsolete views which are no longer support for creatre company flow
--  140416  AwWelk  PBSC-8388, Added field INVERTED_CURRENCY_RATE to MPCCOM_ACCOUNTING_TAB.
--  140409  NaLrlk  Added posting types M234 and M235 to event APINVOICE.
--  140324  AwWelk  PBSC-7997, Changed the renaming of table PACKAGE_TYPE_PALLET_1400 to PACKAGE_TYPE_PALLET_1410
--  140324          and removed unnecessary COMMITs.
--  140331  MaEdlk  Bug 116154, Update lu_name and key_ref columns in TECHNICAL_OBJECT_REFERENCE_TAB for LU Site.
--  140228  SURBLK  Removed column USE_PRICE_INCL_TAX from COMPANY_DISTRIBUTION_INFO_TAB.
--  140225  Niwese  PBSC-6283, Added column Used_by_entity to Order_Cancel_Reason_Tab
--  131210  ChJalk  PBSC-4776, Modified the column PERIOD_CLOSED in STATISTIC_PERIOD_TAB as mandatory.
--  131113  AwWelk  PBSC-415, Modified column rowversion in statistic_period_tab as mandatory.
--  131113  ChJalk  PBSC-388, Modified the column ROWVERSION IN NOTC_TAB to a NOT NULL COLUMN
--  131113  ChJalk  PBSC-419, Modified the column ROWVERSION IN SUP_WARRANTY_TYPE_TAB to a NOT NULL COLUMN
--  131113  ChJalk  PBSC-372, Modified the column ROWVERSION IN CUST_WARRANTY_TYPE_TEMP_TAB to a NOT NULL COLUMN
--  131113  AwWelk  PBSC-393, Modified column rowversion in output_type_tab as mandatory.
--  131113  AwWelk  PBSC-392, Modified column rowversion in order_delivery_term_tab as mandatory.
--  131112  ChJalk  PBSC-369, Modified the column ROWVERSION IN CUST_WARRANTY_CONDITION_TAB to a NOT NULL COLUMN
--  131112  AwWelk  PBSC-384, Modified column rowversion in mpccom_ship_via_tab as mandatory.
--  131112  ChJalk  PBSC-383, Modified the column ROWVERSION IN MPCCOM_PHRASE_TEXT_TAB to a NOT NULL COLUMN
--  131112  AwWelk  PBSC-424, Modified column rowversion in warranty_condition_tab as mandatory.
--  131112  ChJalk  PBSC-370, Modified the column ROWVERSION IN CUST_WARRANTY_TEMP_COND_TAB to a NOT NULL COLUMN
--  131112  AwWelk  PBSC-390, Modified column rowversion in mpccom_accounting_tab as mandatory.
--  131112  AwWelk  PBSC-387, Modified column rowversion in mpccom_transaction_code_tab as mandatory. Modified column inventory_stat_direction,
--  131112          transit_qty_direction and transaction_source in mpccom_transaction_code_tab by reducing the length to 20.
--  131112  ChJalk  PBSC-381, Modified the column ROWVERSION IN MPCCOM_DOCUMENT_TAB to a NOT NULL COLUMN
--  131112  AwWelk  PBSC-366, Modified column rowversion in country_notc_tab as mandatory.
--  131112  ChJalk  PBSC-422, Modified the column ROWVERSION IN USER_ALLOWED_SITE_TAB to a NOT NULL COLUMN and changed the length of USER_SITE_TYPE to 40.
--  131112  ChJalk  PBSC-358, Modified the column ROWVERSION IN CHARACTERISTIC_TEMPLATE_TAB to a NOT NULL COLUMN
--  131112  ChJalk  PBSC-426, Modified the column ROWVERSION IN WARRANTY_LANG_DESC_TEMP_TAB to a NOT NULL COLUMN
--  131112  ChJalk  PBSC-418, Modified the column ROWVERSION IN SUP_WARRANTY_TEMP_COND_TAB to a NOT NULL COLUMN
--  131112  AwWelk  PBSC-416, Modified column rowversion in sup_warranty_tab as mandatory.
--  131112  UdGnlk  PBSC-355, Modified ACC_EVENT_POSTING_TYPE_TAB, ACCOUNTING_EVENT_TAB column ROWVERSION make it NOT NULL.
--  131112  AwWelk  PBSC-391, Modified column rowversion in order_coordinator_group_tab as mandatory.
--  131112  ChJalk  PBSC-402, Modified the column ROWVERSION IN PHRASE_ON_DOCUMENT_TAB to a NOT NULL COLUMN
--  131112  ChJalk  PBSC-360, Modified the column ROWVERSION IN CHARACTERISTIC_TEMPL_CHAR_TAB to a NOT NULL COLUMN
--  131112  AwWelk  PBSC-390, Modified column rowversion in order_coordinator_tab as mandatory.
--  131112  AwWelk  PBSC-420, Modified column rowversion in mpccom_system_parameter_tab as mandatory.
--  131112  AwWelk  PBSC-408, Modified columns rowversion AND reject_message in scrapping_cause_tab as mandatory.
--  131112  AwWelk  PBSC-420, Modified column rowversion in sup_warranty_type_temp_tab as mandatory.
--  131112  AwWelk  PBSC-368, Modified column rowversion in cust_warranty_tab as mandatory.
--  131112  AwWelk  PBSC-380, Modified column rowversion in mpccom_defaults_tab as mandatory.
--  131112  AwWelk  PBSC-423, Modified column rowversion in user_default_tab as mandatory.
--  131112  AwWelk  PBSC-400, Modified column rowstate in per_oh_adjustment_history_tab as mandatory.
--  131112  AwWelk  PBSC-409, Modified column rowversion in site_tab as mandatory.
--  131112  AwWelk  PBSC-382, Modified column rowversion in mpccom_phrase_tab as mandatory.
--  131112  AwWelk  PBSC-371, Modified column rowversion in cust_warranty_type_tab as mandatory.
--  131112  AwWelk  PBSC-377, Modified column rowversion in document_text_tab as mandatory.
--  131112  AwWelk  PBSC-406, Modified column rowversion in pre_accounting_tab as mandatory.
--  131111  AwWelk  PBSC-367, Modified column rowversion in cust_ord_print_control_tab as mandatory.
--  131111  AwWelk  PBSC-378, Modified column rowversion in characteristic_tab as mandatory.
--  131111  AwWelk  PBSC-417, Modified column rowversion in sup_warranty_condition_tab as mandatory.
--  131111  AwWelk  PBSC-425, Modified column rowversion in warranty_lang_desc_tab as mandatory.
--  130924  Mohrlk  FISPTWO-650, 130618_PAR_Mpccom.cdb.
--  130920  SURBLK  Merged the upg file updated from TAL_Mpccom.
--	 130917  AwWelk  EBALL-188, Added column QTY_AT_CUSTOMER_DIRECTION to the table MPCCOM_TRANSACTION_CODE_TAB.
--  130913  Maabse  Added column Blocked_For_Use to Order_Cancel_Reason_Tab
--  130915  PraWlk  Removed translations for user defined basic data in LUs.
--  130906  CPriLK  Merged the upg file updated from CONVERGE.
--                  130903	NaLrlk  Created
--  130905  ShKolk  Merged PIV_Mpccom.cdb file into upg file.
--                  130221  ShKolk  Merged cdb files into one cdb file.
--                  120523  JeeJlk  Introduced column USE_PRICE_INCL_TAX to COMPANY_DISTRIBUTION_INFO_TAB.
--  130813  MaEelk  Moved the code renaming PALLET_TYPE_TAB and PALLET_TYPE_PRICE_TAB to POST_MPCCOM_V1400_RenameObsoleteTable.
--  130805  MeAblk  Removed obsolete LOV view PACKAGE_TYPE_PALLET_LOV.
--  130802  MeAblk  Removed the replication configuration/definition data entered for the obsoleted LU PackageType.
--  130731  MeAblk  Removed the obsolete package PACKAGE_TYPE_PALLET_API.
--  130730  MeAblk  Removed the obsolete package PACKAGE_TYPE_PRICE_API.
--  130729  MeAblk  Removed the obsolete package PACKAGE_TYPE_API.
--  130724  MAHPLK  Merged all CDB files introduced by billabong project.
--  120720  SBallk  Updating Document phrase functionality to the site level.
--  120720          Allowing user to define document phrases from system level to company or site level and more visibility for the
--  120720          document phrase usage in document.
--  130701  NWeelk  Bug 109624, Updated the PROJECT_ACCOUNTING_FLAG in ACC_EVENT_POSTING_TYPE_TAB
--  130701          for posting events PRDIFFSP+ and PRDIFFSP-.
--  130617  ChFolk  Added posting events for new transaction code RETDIFS-NI.
--  130612  ErFelk   Bug 109671, Added new column CONVERSION_FACTOR and update values only for module PURCH in Mpccom_Accounting_Tab.
--  130612  Asawlk  Bug 110566, Modify the consignment_stock attribute from 'NOT CONSIGNMENT' to 'VENDOR CONSIGNMENT'
--  130612          for transaction_code 'CO-RETURN'.
--  130610  ChFolk  Define posting types for posting events 'RETDIFSREC' and 'RETDIFSSCP'.
--  130606  AwWelk  EBALL-52, Define posting types for posting event CRO-EX-SCR
--  130604  UdGnlk  EBALL-46, Define posting types for business event CRO-EXR-OU and CRO-EXR-IN
--  130603  MaMalk  Creating table TRANSPORT_UNIT_TYPE_TAB and Added TRANSPORT_UNIT_TYPE to MPCCOM_SHIP_VIA_TAB.
--  130523  AwWelk  EBALL-85, Define posting types for posting event CRO-EX-DEL.
--  130513  ChFolk  Define posting types for posting event 'RETDIR-SCP'.
--  130510  Asawlk  EBALL-37, Added new attribute qty_at_customer_direction to mpccom_transaction_code_tab.
--  130508  Asawlk  EBALL-37, Drop enumeration package Transit_Qty_Direction_API as it was replaced by
--  130508          Stock_Quantity_Direction_API.
--  130508  UdGnlk  EBALL-64,PROMPT Define posting types for business event CRO-EXD-IN
--  130508  AwWelk  EBALL-41.Define posting types for posting event CRO-EXD-OU
--  130421  Asawlk  Bug 109481, Replace 'M3' posting type for posting events 'SERREN+' and 'SERREN-' with 'M191'.
--  130404  ShKolk  Define posting types for posting event 'RETPODIRNI'.
--  130403  ChFolk  Define posting types for posting event 'RETSHIPDIR' and 'RETINTPODS'.
--  130320  AwWelk  EBALL-57,Define posting types for posting event CRO-EX-ARR
--  130115  UdGnlk  Define posting types for posting event 'RINTORDTRX'.
--  121126  GanNlk  Define posting types for posting event 'RETPODSINT'.
--  121018  ChFolk  Define posting types for posting event 'RETDSDELOH' and 'RETARCHGDS'.
--  121016  ChFolk  Define posting types for posting event 'RETPODIRSH'.
-----------------------------------------------------------------------------

SET SERVEROUTPUT ON
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_1');
PROMPT Start upgrading with 1410.upg

------------------------------------------------------------------------------------------
---------------------------- Instructions for upg files ----------------------------------
------------------------------------------------------------------------------------------

-- If possible, everything regarding one table should be placed in one section.
-- If this is not possible, a proper comment about the reason should be added.

-- Each section should be started with a "-----" line and a empty line.
-- This section should then start with a line like: "-- ***** Example_Tab Start *****"
-- and end with a line like:                       "-- ***** Example_Tab End *****"
-- Don't forget UPPER/lower case !

-- Every part inside the section should start with a "PROMPT" line explaining what is done by the block.

-- If the Pl/SQL block has DML instructions (INSERT,UPDATE,DELETE etc) there should always be a "COMMIT;" line after the block.

-- Remember ordinary coding standard rules !

-- Don't drop any Table/Column !

-- Don't forget performance when updating large table !

-- No unnecessary blank lines or comments !

-- If possible, use pure SQL commands
-- If possible, try to group several updates together in one statement.

-- For more information refer the "Upgrade Script Standards document and the Performance Guide.

-- Timestamps will be added automatically at the end of the project.

---------------------------------------------------------------------------------------------
--------------------- CREATE/ALTER TABLES/INDEXES AND DATA CORRECTIONS ----------------------
---------------------------------------------------------------------------------------------

-- ****** Mpccom_Transaction_Code_Tab Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_2');
PROMPT Adding column COMPANY_RENT_ASSET_ALLOWED,SUPPLIER_RENTED_ALLOWED, QTY_AT_CUSTOMER_DIRECTION to MPCCOM_TRANSACTION_CODE_TAB table.
DECLARE
   table_name_  VARCHAR2(30) := 'MPCCOM_TRANSACTION_CODE_TAB';
   column_ Database_SYS.ColRec;
BEGIN
   column_ := Database_SYS.Set_Column_Values('COMPANY_RENT_ASSET_ALLOWED', 'VARCHAR2(20)', 'Y');
   Database_SYS.Alter_Table_Column(table_name_, 'A', column_,  TRUE);

   column_ := Database_SYS.Set_Column_Values('SUPPLIER_RENTED_ALLOWED', 'VARCHAR2(20)', 'Y');
   Database_SYS.Alter_Table_Column(table_name_, 'A', column_,  TRUE);

   column_ := Database_SYS.Set_Column_Values('QTY_AT_CUSTOMER_DIRECTION', 'VARCHAR2(20)', 'Y');
   Database_SYS.Alter_Table_Column(table_name_, 'A', column_, TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_3');
PROMPT Updating columns COMPANY_RENT_ASSET_ALLOWED,SUPPLIER_RENTED_ALLOWED in MPCCOM_TRANSACTION_CODE_TAB table.

UPDATE MPCCOM_TRANSACTION_CODE_TAB
SET    COMPANY_RENT_ASSET_ALLOWED = 'FALSE',
       SUPPLIER_RENTED_ALLOWED    = 'FALSE'
WHERE  (COMPANY_RENT_ASSET_ALLOWED IS NULL AND SUPPLIER_RENTED_ALLOWED IS NULL);
COMMIT;

UPDATE MPCCOM_TRANSACTION_CODE_TAB
SET QTY_AT_CUSTOMER_DIRECTION = CASE CONSIGNMENT_STOCK
                                   WHEN 'INCR.OUR CONSIGNMENT' THEN
                                      'INCREASE QUANTITY'
                                   WHEN 'DECR.OUR CONSIGNMENT' THEN
                                      'DECREASE QUANTITY'
                                   ELSE
                                      'UNAFFECTED QUANTITY' END
WHERE QTY_AT_CUSTOMER_DIRECTION IS NULL;
COMMIT;

UPDATE MPCCOM_TRANSACTION_CODE_TAB
SET    CONSIGNMENT_STOCK = 'NOT CONSIGNMENT'
WHERE  CONSIGNMENT_STOCK IN ('INCR.OUR CONSIGNMENT', 'DECR.OUR CONSIGNMENT');
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_4');
PROMPT Altering COMPANY_RENT_ASSET_ALLOWED,SUPPLIER_RENTED_ALLOWED to not null in MPCCOM_TRANSACTION_CODE_TAB table.
DECLARE
   table_name_  VARCHAR2(30) := 'MPCCOM_TRANSACTION_CODE_TAB';
   column_ Database_SYS.ColRec;
BEGIN
   column_ := Database_SYS.Set_Column_Values('COMPANY_RENT_ASSET_ALLOWED', 'VARCHAR2(20)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   column_ := Database_SYS.Set_Column_Values('SUPPLIER_RENTED_ALLOWED', 'VARCHAR2(20)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   column_ := Database_SYS.Set_Column_Values('QTY_AT_CUSTOMER_DIRECTION', 'VARCHAR2(20)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
END;
/


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_5');
PROMPT Updating rowversion in mpccom_transaction_code_tab

UPDATE mpccom_transaction_code_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_6');
PROMPT Modify column rowversion in mpccom_transaction_code_tab as mandatory.
PROMPT Modify column inventory_stat_direction, transit_qty_direction and transaction_source in
PROMPT mpccom_transaction_code_tab by reducing the length to 20.

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'MPCCOM_TRANSACTION_CODE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('INVENTORY_STAT_DIRECTION', 'VARCHAR2(20)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('TRANSIT_QTY_DIRECTION', 'VARCHAR2(20)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('TRANSACTION_SOURCE', 'VARCHAR2(20)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ****** Mpccom_Transaction_Code_Tab End ******


---------------------------------------------------------------------------------------------
-- ****** Accounting_Event_Tab Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_7');
PROMPT Updating column ROWVERSION WITH SYSDATE AND make it NOT NULL in ACCOUNTING_EVENT_TAB
DECLARE
   column_     Database_SYS.ColRec;
BEGIN

   UPDATE ACCOUNTING_EVENT_TAB
      SET rowversion = SYSDATE
    WHERE rowversion IS NULL;
   COMMIT;

   column_ := Database_SYS.Set_Column_Values('ROWVERSION','DATE', 'N');
   Database_SYS.Alter_Table_Column('ACCOUNTING_EVENT_TAB', 'M', column_, TRUE);
END;
/

-- ****** Accounting_Event_Tab End ******

---------------------------------------------------------------------------------------------

-- ****** Acc_Event_Posting_Type_Tab Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_8');
PROMPT Inserting posting types M217 for event RENTIN+
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN+',
                                          'M217',
                                          'D',
                                          1,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_9');
PROMPT Inserting posting types M218 for event RENTIN+
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN+',
                                          'M218',
                                          'C',
                                          2,
                                          'N',
                                          'SITUATIONAL PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_10');
PROMPT Inserting posting types M218 for event RENTIN-.
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN-',
                                          'M218',
                                          'D',
                                          2,
                                          'N',
                                          'SITUATIONAL PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_11');
PROMPT Inserting posting types M217 for event RENTIN-.
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN-',
                                          'M217',
                                          'C',
                                          1,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_12');
PROMPT Inserting posting types M224 for event RENTIN-NI+
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN-NI+',
                                          'M224',
                                          'D',
                                          1,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_13');
PROMPT Inserting posting types M225 for event RENTIN-NI+
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN-NI+',
                                          'M225',
                                          'C',
                                          2,
                                          'N',
                                          'SITUATIONAL PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_14');
PROMPT Inserting posting types M225 for event RENTIN-NI-.
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN-NI-',
                                          'M225',
                                          'D',
                                          2,
                                          'N',
                                          'SITUATIONAL PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_15');
PROMPT Inserting posting types M224 for event RENTIN-NI-.
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('RENTIN-NI-',
                                          'M224',
                                          'C',
                                          1,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_16');
PROMPT Inserting posting types M226 for event PRJRENT+
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('PRJRENT+',
                                          'M226',
                                          'D',
                                          1,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_17');
PROMPT Inserting posting types M227 for event PRJRENT+
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('PRJRENT+',
                                          'M227',
                                          'C',
                                          1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_18');
PROMPT Inserting posting types M227 for event PRJRENT-.
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('PRJRENT-',
                                          'M227',
                                          'D',
                                          1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_19');
PROMPT Inserting posting types M226 for event PRJRENT-.
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('PRJRENT-',
                                          'M226',
                                          'C',
                                          1,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_20');
PROMPT Inserting posting types M230 for event INVOICE-D
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('INVOICE-D',
                                          'M230',
                                          'C',
                                          31,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_21');
PROMPT Inserting posting types M231 for event INVOICE-D
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('INVOICE-D',
                                          'M231',
                                          'C',
                                          32,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_22');
PROMPT Inserting posting types M232 for event INVOICE-C
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('INVOICE-C',
                                          'M232',
                                          'D',
                                          31,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_23');
PROMPT Inserting posting types M233 for event INVOICE-C
BEGIN
   INSERT INTO acc_event_posting_type_tab(event_code,
                                          str_code,
                                          debit_credit,
                                          booking,
                                          pre_accounting_flag,
                                          project_accounting_flag,
                                          rowversion)
                                  VALUES ('INVOICE-C',
                                          'M233',
                                          'D',
                                          32,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
   WHEN dup_val_on_index THEN
      NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_24');
PROMPT Define posting type M3 for posting event RINTORDTRX.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                       STR_CODE,
                                       DEBIT_CREDIT,
                                       BOOKING,
                                       PRE_ACCOUNTING_FLAG,
                                       PROJECT_ACCOUNTING_FLAG,
                                       ROWVERSION)
                               VALUES ('RINTORDTRX',
                                       'M3',
                                       'D',
                                       1,
                                       'N',
                                       'EXCLUDE PROJECT PRE POSTING',
                                       SYSDATE);
   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_25');
PROMPT Define posting type M4 for posting event RINTORDTRX.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                       STR_CODE,
                                       DEBIT_CREDIT,
                                       BOOKING,
                                       PRE_ACCOUNTING_FLAG,
                                       PROJECT_ACCOUNTING_FLAG,
                                       ROWVERSION)
                               VALUES ('RINTORDTRX',
                                       'M4',
                                       'C',
                                       1,
                                       'N',
                                       'EXCLUDE PROJECT PRE POSTING',
                                       SYSDATE);

   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_26');
PROMPT Define posting type M1 for posting events RETSHIPDIR.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETSHIPDIR',
                                          'M1',
                                          'D',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_27');
PROMPT Define posting type M4 for posting events RETSHIPDIR.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETSHIPDIR',
                                          'M4',
                                          'C',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);

   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_28');
PROMPT Define posting type M4 for posting events RETINTPODS.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETINTPODS',
                                          'M4',
                                          'D',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);

   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_29');
PROMPT Define posting type M25 for posting events RETINTPODS.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETINTPODS',
                                          'M25',
                                          'C',
                                           1,
                                          'Y',
                                          'INCLUDE PROJECT PRE POSTING',
                                          SYSDATE);

   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_30');
PROMPT Define posting type M6 for posting events RETDIR-SCP.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETDIR-SCP',
                                          'M6',
                                          'D',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_31');
PROMPT Define posting type M4 for posting events RETDIR-SCP.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETDIR-SCP',
                                          'M4',
                                          'C',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);

   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_32');
PROMPT Define posting type M1 for posting event RETDIFSREC.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETDIFSREC',
                                          'M1',
                                          'D',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_33');
PROMPT Define posting type M4 for posting event RETDIFSREC.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETDIFSREC',
                                          'M4',
                                          'C',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);

   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_34');
PROMPT Define posting type M6 for posting event RETDIFSSCP.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETDIFSSCP',
                                          'M6',
                                          'D',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);
   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_35');
PROMPT Define posting type M4 for posting event RETDIFSSCP.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETDIFSSCP',
                                          'M4',
                                          'C',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);

   COMMIT;
EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_36');
PROMPT Define posting type M79 for posting event RETDIFS-NI.
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('RETDIFS-NI',
                                             'M79',
                                             'D',
                                              1,
                                             'N',
                                             'EXCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_37');
PROMPT Define posting type M95 for posting event RETDIFS-NI.
BEGIN
   INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                          STR_CODE,
                                          DEBIT_CREDIT,
                                          BOOKING,
                                          PRE_ACCOUNTING_FLAG,
                                          PROJECT_ACCOUNTING_FLAG,
                                          ROWVERSION)
                                  VALUES ('RETDIFS-NI',
                                          'M95',
                                          'C',
                                           1,
                                          'N',
                                          'EXCLUDE PROJECT PRE POSTING',
                                          SYSDATE);

EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
END;
/

COMMIT;


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_38');
PROMPT Define posting types for posting event CRO-EX-ARR.

BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EX-ARR',
                                             'M1',
                                             'D',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                              ROWVERSION)
                                     VALUES ('CRO-EX-ARR',
                                             'M223',
                                             'C',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);

   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;
END;
/
COMMIT;


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_39');
PROMPT Define posting types for posting event CRO-EXD-OU.

BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EXD-OU',
                                             'M3',
                                             'D',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                              ROWVERSION)
                                     VALUES ('CRO-EXD-OU',
                                             'M1',
                                             'C',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);

   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;
END;
/
COMMIT;


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_40');
PROMPT Define posting types for business event CRO-EXD-IN.

BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EXD-IN',
                                             'M1',
                                             'D',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EXD-IN',
                                             'M3',
                                             'C',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);

   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;
END;
/
COMMIT;


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_41');
PROMPT Define posting types for posting event CRO-EX-DEL.

BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EX-DEL',
                                             'M221',
                                             'D',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EX-DEL',
                                             'M1',
                                             'C',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);

   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;
END;
/
COMMIT;


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_42');
PROMPT Define posting types for business event CRO-EXR-OU and CRO-EXR-IN.

BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EXR-OU',
                                             'M3',
                                             'D',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EXR-OU',
                                             'M1',
                                             'C',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);

   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EXR-IN',
                                             'M1',
                                             'D',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EXR-IN',
                                             'M3',
                                             'C',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);

   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_43');
PROMPT Define posting types for posting event CRO-EX-SCR.

BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EX-SCR',
                                             'M222',
                                             'D',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('CRO-EX-SCR',
                                             'M1',
                                             'C',
                                              1,
                                             'N',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);

   EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
   END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_44');
PROMPT Define posting types for posting event APINVOICE.
BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('APINVOICE',
                                             'M234',
                                             'D',
                                             17,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('APINVOICE',
                                             'M235',
                                             'D',
                                             18,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;
END;
/
COMMIT;


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_45');
PROMPT Define posting types M236, M237, M238, M239, M240, M241 for posting event INVOICE-D.
BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-D',
                                             'M236',
                                             'D',
                                             33,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-D',
                                             'M237',
                                             'D',
                                             34,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-D',
                                             'M238',
                                             'D',
                                             35,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                    VALUES ('INVOICE-D',
                                            'M239',
                                            'D',
                                            36,
                                            'Y',
                                            'INCLUDE PROJECT PRE POSTING',
                                            SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-D',
                                             'M240',
                                             'D',
                                             37,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-D',
                                             'M241',
                                             'D',
                                             38,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_46');
PROMPT Define posting types M242, M243, M244, M245, M246, M247 for posting event INVOICE-C.
BEGIN
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-C',
                                             'M242',
                                             'C',
                                             33,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-C',
                                             'M243',
                                             'C',
                                             34,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-C',
                                             'M244',
                                             'C',
                                             35,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-C',
                                             'M245',
                                             'C',
                                             36,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-C',
                                             'M246',
                                             'C',
                                             37,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                     VALUES ('INVOICE-C',
                                             'M247',
                                             'C',
                                             38,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
      COMMIT;
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_47');
PROMPT Define posting types M1, M178 for posting events CONDCHGCU+ and CONDCHGCU-.

BEGIN
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'CONDCHGCU+',
                                                 'M1',
                                                 'D',
                                                 1,
                                                 'N',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'CONDCHGCU+',
                                                 'M178',
                                                 'C',
                                                 1,
                                                 'N',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'CONDCHGCU-',
                                                 'M178',
                                                 'D',
                                                 1,
                                                 'N',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'CONDCHGCU-',
                                                 'M1',
                                                 'C',
                                                 1,
                                                 'N',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'COTOCRA-',
                                                 'M257',
                                                 'D',
                                                 1,
                                                 'Y',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'COTOCRA-',
                                                 'M1',
                                                 'C',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'CRATOCO+',
                                                 'M1',
                                                 'D',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'CRATOCO+',
                                                 'M258',
                                                 'C',
                                                 1,
                                                 'Y',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_48');
PROMPT Define posting types M249, M250 for posting events INTRNTREV+ and INTRNTREV-.
BEGIN
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTREV+',
                                                 'M249',
                                                 'D',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE) ;
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTREV+',
                                                 'M250',
                                                 'C',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                        VALUES( 'INTRNTREV-',
                                                'M249',
                                                'C',
                                                1,
                                                'N',
                                                'EXCLUDE PROJECT PRE POSTING',
                                                SYSDATE) ;
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTREV-',
                                                 'M250',
                                                 'D',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_49');
PROMPT Define posting types M251, M252 for posting events INTRNTRNI+ and INTRNTRNI-.
BEGIN
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTRNI+',
                                                 'M251',
                                                 'D',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE) ;
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTRNI+',
                                                 'M252',
                                                 'C',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTRNI-',
                                                 'M251',
                                                 'C',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE) ;
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTRNI-',
                                                 'M252',
                                                 'D',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_50');
PROMPT Define posting types M253, M254 for posting events INTRNTCOS+ and INTRNTCOS-.
BEGIN
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCOS+',
                                                 'M253',
                                                 'D',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCOS+',
                                                 'M254',
                                                 'C',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCOS-',
                                                 'M253',
                                                 'C',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE) ;
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCOS-',
                                                 'M254',
                                                 'D',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_51');
PROMPT Define posting types M255, M256 for posting events INTRNTCNI+ and INTRNTCNI-.
BEGIN
      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCNI+',
                                                 'M255',
                                                 'D',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCNI+',
                                                 'M256',
                                                 'C',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCNI-',
                                                 'M255',
                                                 'C',
                                                 1,
                                                 'Y',
                                                 'INCLUDE PROJECT PRE POSTING',
                                                 SYSDATE) ;
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;

      BEGIN
         INSERT INTO ACC_EVENT_POSTING_TYPE_TAB( EVENT_CODE,
                                                 STR_CODE,
                                                 DEBIT_CREDIT,
                                                 BOOKING,
                                                 PRE_ACCOUNTING_FLAG,
                                                 PROJECT_ACCOUNTING_FLAG,
                                                 ROWVERSION )
                                         VALUES( 'INTRNTCNI-',
                                                 'M256',
                                                 'D',
                                                 1,
                                                 'N',
                                                 'EXCLUDE PROJECT PRE POSTING',
                                                 SYSDATE);
         COMMIT;
      EXCEPTION
         WHEN dup_val_on_index THEN
            NULL;
      END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_52');
PROMPT Inserting Credit and Debit posting type for SOCLOSE+, SOCLOSE- business event.
BEGIN
   -- Register Debit of SOCLOSE+
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                      VALUES('SOCLOSE+',
                                             'M40',
                                             'D',
                                             1,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   -- Register Credit of SOCLOSE+
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                      VALUES('SOCLOSE+',
                                             'M59',
                                             'C',
                                             1,
                                             'N',
                                             'EXCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   -- Register Debit of SOCLOSE-
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                      VALUES('SOCLOSE-',
                                             'M59',
                                             'D',
                                             1,
                                             'N',
                                             'EXCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;

   -- Register Credit of SOCLOSE-
   BEGIN
      INSERT INTO ACC_EVENT_POSTING_TYPE_TAB(EVENT_CODE,
                                             STR_CODE,
                                             DEBIT_CREDIT,
                                             BOOKING,
                                             PRE_ACCOUNTING_FLAG,
                                             PROJECT_ACCOUNTING_FLAG,
                                             ROWVERSION)
                                      VALUES('SOCLOSE-',
                                             'M40',
                                             'C',
                                             1,
                                             'Y',
                                             'INCLUDE PROJECT PRE POSTING',
                                             SYSDATE);
   EXCEPTION
      WHEN dup_val_on_index THEN
         NULL;
   END;
END;
/
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_53');
PROMPT Updating the PROJECT_ACCOUNTING_FLAG in ACC_EVENT_POSTING_TYPE_TAB for EVENT_CODE 'PRDIFFSP+' and 'PRDIFFSP-'.

BEGIN
   UPDATE acc_event_posting_type_tab
      SET project_accounting_flag = 'INCLUDE PROJECT PRE POSTING'
    WHERE event_code              = 'PRDIFFSP+'
      AND str_code                = 'M19'
      AND debit_credit            = 'D'
      AND booking                 = 1;

   UPDATE acc_event_posting_type_tab
      SET project_accounting_flag = 'INCLUDE PROJECT PRE POSTING'
    WHERE event_code              = 'PRDIFFSP-'
      AND str_code                = 'M20'
      AND debit_credit            = 'C'
      AND booking                 = 1;

   COMMIT;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_54');
PROMPT Replace 'M3' posting type for posting events 'SERREN+' and 'SERREN-' with 'M191'.

BEGIN
   UPDATE acc_event_posting_type_tab
      SET str_code     = 'M191'
    WHERE event_code   = 'SERREN-'
      AND str_code     = 'M3'
      AND debit_credit = 'D'
      AND booking      = 1 ;

   UPDATE acc_event_posting_type_tab
      SET str_code     = 'M191'
    WHERE event_code   = 'SERREN+'
      AND str_code     = 'M3'
      AND debit_credit = 'C'
      AND booking      = 1 ;
   COMMIT;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_55');
PROMPT Modify project_accounting_flag to exclude the project prepostings for posting types 'M191', 'M195' and 'M178'.

BEGIN
   UPDATE acc_event_posting_type_tab
      SET project_accounting_flag = 'EXCLUDE PROJECT PRE POSTING'
    WHERE str_code IN ('M191', 'M195', 'M178');

   COMMIT;
END;
/


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_56');
PROMPT Updating column ROWVERSION WITH SYSDATE AND make it NOT NULL in ACC_EVENT_POSTING_TYPE_TAB
DECLARE
   column_     Database_SYS.ColRec;
BEGIN

   UPDATE ACC_EVENT_POSTING_TYPE_TAB
      SET rowversion = SYSDATE
    WHERE rowversion IS NULL;
   COMMIT;

   column_ := Database_SYS.Set_Column_Values('ROWVERSION','DATE', 'N');
   Database_SYS.Alter_Table_Column('ACC_EVENT_POSTING_TYPE_TAB', 'M', column_, TRUE);
END;
/

-- ****** Acc_Event_Posting_Type_Tab End ******

----------------------------------------------------------------------------------

-- ****** Company_Distribution_Info_Tab Start ******

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_57');
PROMPT Alter columns BASE_FOR_ADV_INVOICE, ORDER_TAXABLE, INTERSITE_PROFITABILITY, DELAY_COGS_TO_DELIV_CONF,
PROMPT PREPAYMENT_INV_METHOD, ORDER_NO_ON_INCOMING_CO, PURCH_TAXABLE, POST_NON_INV_PURCH_RCPT, CHECK_PREACC_AT_PR_RELEASE
PROMPT NOTIFY_SUPPL_CONS_CONSUM, ALLOW_CONVERT_QUOTE_TO_PO, OWNERSHIP_TRANSFER_POINT, KEEP_ENG_REV_SITE_MOVE, STOCK_CTRL_TYPES_BLOCKED,
PROMPT UOM_FOR_VOLUME, UOM_FOR_WEIGHT, UOM_FOR_LENGTH, UOM_FOR_TEMPERATURE and UOM_FOR_DENSITY to nullable in COMPANY_DISTRIBUTION_INFO_TAB.

DECLARE
   column_       Database_SYS.ColRec;
   table_name_   VARCHAR2(30) := 'COMPANY_DISTRIBUTION_INFO_TAB';
BEGIN
      column_ := Database_SYS.Set_Column_Values('BASE_FOR_ADV_INVOICE',       'VARCHAR2(35)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('ORDER_TAXABLE',              'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('INTERSITE_PROFITABILITY',    'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('DELAY_COGS_TO_DELIV_CONF',   'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('PREPAYMENT_INV_METHOD',      'VARCHAR2(50)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('ORDER_NO_ON_INCOMING_CO',    'VARCHAR2(10)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('PURCH_TAXABLE',              'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('POST_NON_INV_PURCH_RCPT',    'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('CHECK_PREACC_AT_PR_RELEASE', 'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('NOTIFY_SUPPL_CONS_CONSUM',   'VARCHAR2(5)',    'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('ALLOW_CONVERT_QUOTE_TO_PO',  'VARCHAR2(5)',    'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('OWNERSHIP_TRANSFER_POINT',   'VARCHAR2(30)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('KEEP_ENG_REV_SITE_MOVE',     'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('STOCK_CTRL_TYPES_BLOCKED',   'VARCHAR2(20)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('UOM_FOR_VOLUME',             'VARCHAR2(30)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('UOM_FOR_WEIGHT',             'VARCHAR2(30)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('UOM_FOR_LENGTH',             'VARCHAR2(30)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('UOM_FOR_TEMPERATURE',        'VARCHAR2(30)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
      column_ := Database_SYS.Set_Column_Values('UOM_FOR_DENSITY',            'VARCHAR2(30)',   'Y');
      Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
END;
/


-- ****** Company_Distribution_Info_Tab End ******

-- ****** Order_Cancel_Reason_Tab Start ******

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_58');
PROMPT Adding column Blocked_For_Use to Order_Cancel_Reason_Tab
DECLARE
   columns_    Database_SYS.ColumnTabType;
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'ORDER_CANCEL_REASON_TAB';
BEGIN
   Database_SYS.Reset_Column_Table(columns_);
   Database_SYS.Set_Table_Column(columns_, 'BLOCKED_FOR_USE', 'VARCHAR2(20)',  'N', '''FALSE''', keep_default_ => 'N');   
   Database_SYS.Set_Table_Column(columns_, 'USED_BY_ENTITY', 'VARCHAR2(100)', 'Y');
   Database_SYS.Create_Or_Replace_Table(table_name_, columns_, '&IFSAPP_DATA', NULL, TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_59');
PROMPT Updating Used_By_Entity IN Order_Cancel_Reason_Tab
UPDATE ORDER_CANCEL_REASON_TAB SET USED_BY_ENTITY = '^BO^CO^SQ^DO^PO^RM^SO^' WHERE USED_BY_ENTITY IS NULL
/

COMMIT;
/

-- ****** Order_Cancel_Reason_Tab End ******

--------------------------------------------------------------------------------

-- ***** TRANSPORT_UNIT_TYPE_TAB Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_60');
PROMPT Creating table TRANSPORT_UNIT_TYPE_TAB
DECLARE
   columns_    Database_SYS.ColumnTabType;
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'TRANSPORT_UNIT_TYPE_TAB';
BEGIN
   Database_SYS.Reset_Column_Table(columns_);
   Database_SYS.Set_Table_Column(columns_, 'TRANSPORT_UNIT_TYPE_ID', 'VARCHAR2(25)', 'N');
   Database_SYS.Set_Table_Column(columns_, 'DESCRIPTION', 'VARCHAR2(100)', 'N');
   Database_SYS.Set_Table_Column(columns_, 'WEIGHT_CAPACITY', 'NUMBER', 'Y');
   Database_SYS.Set_Table_Column(columns_, 'UOM_FOR_WEIGHT', 'VARCHAR2(30)', 'Y');
   Database_SYS.Set_Table_Column(columns_, 'VOLUME_CAPACITY', 'NUMBER', 'Y');
   Database_SYS.Set_Table_Column(columns_, 'UOM_FOR_VOLUME', 'VARCHAR2(30)', 'Y');
   Database_SYS.Set_Table_Column(columns_, 'ROWVERSION', 'DATE', 'N');
   Database_SYS.Set_Table_Column(columns_, 'ROWKEY', 'VARCHAR2(50)', 'Y', '$DEFAULT_NULL$');
   Database_SYS.Create_Or_Replace_Table(table_name_, columns_, '&IFSAPP_DATA', NULL, TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_61');
PROMPT Defining constraints on table TRANSPORT_UNIT_TYPE_TAB
DECLARE
   columns_    Database_SYS.ColumnTabType;
   table_name_ VARCHAR2(30) := 'TRANSPORT_UNIT_TYPE_TAB';
   index_name_ VARCHAR2(30) := 'TRANSPORT_UNIT_TYPE_PK';
   rkidx_name_ VARCHAR2(30) := 'TRANSPORT_UNIT_TYPE_RK';
BEGIN
   Database_SYS.Reset_Column_Table(columns_);
   Database_SYS.Set_Table_Column(columns_, 'TRANSPORT_UNIT_TYPE_ID');
   Database_SYS.Create_Constraint(table_name_, index_name_, columns_, 'P', '&IFSAPP_INDEX', NULL, TRUE, TRUE);
   Database_SYS.Reset_Column_Table(columns_);
   Database_SYS.Set_Table_Column(columns_, 'ROWKEY');
   Database_SYS.Create_Constraint(table_name_, rkidx_name_, columns_, 'U', '&IFSAPP_INDEX', NULL, TRUE, TRUE);
END;
/

-- ***** TRANSPORT_UNIT_TYPE_TAB End *****

--------------------------------------------------------------------------------

-- ***** MPCCOM_SHIP_VIA_TAB Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_62');
PROMPT Adding COLUMN TRANSPORT_UNIT_TYPE to MPCCOM_SHIP_VIA_TAB
DECLARE
   column_ Database_SYS.ColRec;
BEGIN
   column_ := Database_SYS.Set_Column_Values('TRANSPORT_UNIT_TYPE', 'VARCHAR2(25)','Y');
   Database_SYS.Alter_Table_Column('MPCCOM_SHIP_VIA_TAB','A', column_, TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_63');
PROMPT Updating rowversion in mpccom_ship_via_tab

UPDATE mpccom_ship_via_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_64');
PROMPT Modify column rowversion in mpccom_ship_via_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'MPCCOM_SHIP_VIA_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** MPCCOM_SHIP_VIA_TAB End *****

----------------------------------------------------------------------------------

-- ****** MPCCOM_DOCUMENT_TAB Start ******

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_65');
PROMPT Adding DOCUMENT_PHRASE_SUPPORT COLUMN to MPCCOM_DOCUMENT_TAB

BEGIN
   DECLARE
      column_       Database_SYS.ColRec;
      table_name_   VARCHAR2(30) := 'MPCCOM_DOCUMENT_TAB';
   BEGIN
      Database_SYS.Reset_Column(column_);
      column_ := Database_SYS.Set_Column_Values('DOCUMENT_PHRASE_SUPPORT','VARCHAR2(20)','Y' );
      Database_SYS.Alter_Table_Column( table_name_, 'A', column_, TRUE);
   END;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_66');
PROMPT Setting Document Phrase flag to identify document phrase usage level

-- Update DOCUMENT_PHRASE_SUPPORT column with 'NOT_SUPPORTED' and rowversion with SYSDATE
-- This value will replace from MpccomDocumentData.ins correctly.
BEGIN
   BEGIN
      UPDATE MPCCOM_DOCUMENT_TAB
         SET    rowversion              = CASE
                                             WHEN rowversion IS NULL THEN
                                                SYSDATE
                                             ELSE
                                                rowversion
                                             END,
                document_phrase_support = CASE
                                             WHEN document_phrase_support IS NULL THEN
                                                'NOT_SUPPORTED'
                                             ELSE
                                                document_phrase_support
                                             END
       WHERE document_phrase_support IS NULL OR rowversion IS NULL;
   END;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_67');
PROMPT Updating DOCUMENT_PHRASE_SUPPORT AND ROWVERSION COLUMNS in MPCCOM_DOCUMENT_TAB to not nullable

BEGIN
   DECLARE
      column_       Database_SYS.ColumnTabType;
      table_name_   VARCHAR2(30) := 'MPCCOM_DOCUMENT_TAB';
   BEGIN
      Database_SYS.Reset_Column_Table(column_);
      Database_SYS.Set_Table_Column( column_, 'DOCUMENT_PHRASE_SUPPORT','VARCHAR2(20)','N' );
      Database_SYS.Alter_Table( table_name_, column_, TRUE );

      Database_SYS.Reset_Column_Table(column_);
      Database_SYS.Set_Table_Column( column_, 'ROWVERSION','DATE','N' );
      Database_SYS.Alter_Table( table_name_, column_, TRUE );
   END;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_68');
PROMPT Rename Indexes/Constraints FOR MPCCOM_DOCUMENT_TAB
BEGIN
   Database_SYS.Rename_Index('MPCCOM_DOCUMENT_1_IX' , 'MPCCOM_DOCUMENT_IX1', TRUE);
END;
/

 -- ***** MPCCOM_DOCUMENT_TAB End *****

----------------------------------------------------------------------------------

-- ****** PHRASE_ON_DOCUMENT_TAB Start ******

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_69');
PROMPT Adding VALID_FOR_ALL_COMPANY to PHRASE_ON_DOCUMENT_TAB

BEGIN
   DECLARE
     column_       Database_SYS.ColRec;
     table_name_   VARCHAR2(30) := 'PHRASE_ON_DOCUMENT_TAB';
   BEGIN
     Database_SYS.Reset_Column(column_);
     column_ := Database_SYS.Set_Column_Values('VALID_FOR_ALL_COMPANIES', 'VARCHAR2(20)', 'Y');
     Database_SYS.Alter_Table_Column( table_name_, 'A', column_, TRUE);
   END;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_70');
PROMPT Setting valid for all company flag to set document phrase usage to company LEVEL AND setting DEFAULT value OF rowversion.

UPDATE PHRASE_ON_DOCUMENT_TAB
SET    rowversion              = CASE
                                    WHEN rowversion IS NULL THEN
                                       SYSDATE
                                    ELSE
                                       rowversion
                                    END,
       valid_for_all_companies = CASE
                                    WHEN valid_for_all_companies IS NULL THEN
                                       'TRUE'
                                    ELSE
                                       valid_for_all_companies
                                    END
WHERE valid_for_all_companies IS NULL OR rowversion IS NULL;

COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_71');
PROMPT Updating VALID_FOR_ALL_COMPANY AND ROWSTATE in PHRASE_ON_DOCUMENT_TAB to not nullable

BEGIN
   DECLARE
     column_       Database_SYS.ColumnTabType;
     table_name_   VARCHAR2(30) := 'PHRASE_ON_DOCUMENT_TAB';
   BEGIN
     Database_SYS.Reset_Column_Table(column_);
     Database_SYS.Set_Table_Column( column_, 'VALID_FOR_ALL_COMPANIES', 'VARCHAR2(20)', 'N');
     Database_SYS.Alter_Table( table_name_, column_, TRUE);

     Database_SYS.Reset_Column_Table(column_);
     Database_SYS.Set_Table_Column( column_, 'ROWVERSION', 'DATE', 'N');
     Database_SYS.Alter_Table( table_name_, column_, TRUE);
   END;
END;
/

-- ***** PHRASE_ON_DOCUMENT_TAB End *****

 ----------------------------------------------------------------------------------

-- ****** DOCUMENT_PHRASE_COMPANY_TAB Start ******

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_72');
PROMPT Creating DOCUMENT_PHRASE_COMPANY_TAB

BEGIN
   DECLARE
      columns_    Database_SYS.ColumnTabType;
      column_     Database_SYS.ColRec;
      table_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_COMPANY_TAB';
   BEGIN
      Database_SYS.Reset_Column_Table(columns_);
      Database_SYS.Set_Table_Column(columns_, 'DOCUMENT_CODE', 'VARCHAR2(3)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'PHRASE_ID', 'VARCHAR2(10)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'VALID_FROM', 'DATE', 'N');
      Database_SYS.Set_Table_Column(columns_, 'COMPANY', 'VARCHAR2(20)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'VALID_FOR_ALL_SITES', 'VARCHAR2(20)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'VALID_UNTIL', 'DATE', 'N');
      Database_SYS.Set_Table_Column(columns_, 'ROWVERSION', 'DATE', 'N');
      Database_SYS.Set_Table_Column(columns_, 'ROWKEY', 'VARCHAR2(50)', 'Y', '$DEFAULT_NULL$');
      Database_SYS.Create_Or_Replace_Table(table_name_, columns_, '&IFSAPP_DATA', NULL, TRUE);
   END;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_73');
PROMPT Creating DOCUMENT_PHRASE_COMPANY_PK to DOCUMENT_PHRASE_COMPANY_TAB

BEGIN
   DECLARE
      columns_    Database_SYS.ColumnTabType;
      table_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_COMPANY_TAB';
      index_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_COMPANY_PK';
      rkidx_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_COMPANY_RK';
   BEGIN
      Database_SYS.Reset_Column_Table(columns_);
      Database_SYS.Set_Table_Column(columns_, 'DOCUMENT_CODE');
      Database_SYS.Set_Table_Column(columns_, 'PHRASE_ID');
      Database_SYS.Set_Table_Column(columns_, 'VALID_FROM');
      Database_SYS.Set_Table_Column(columns_, 'COMPANY');
      Database_SYS.Create_Constraint(table_name_, index_name_, columns_, 'P', '&IFSAPP_INDEX', NULL, TRUE, TRUE);
      Database_SYS.Reset_Column_Table(columns_);
      Database_SYS.Set_Table_Column(columns_, 'ROWKEY');
      Database_SYS.Create_Constraint(table_name_, rkidx_name_, columns_, 'U', '&IFSAPP_INDEX', NULL, TRUE, TRUE);
   END;
END;
/

-- ***** DOCUMENT_PHRASE_COMPANY_TAB End *****

 ----------------------------------------------------------------------------------

-- ****** DOCUMENT_PHRASE_SITE_TAB Start ******

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_74');
PROMPT Creating DOCUMENT_PHRASE_SITE_TAB

BEGIN
   DECLARE
      columns_    Database_SYS.ColumnTabType;
      column_     Database_SYS.ColRec;
      table_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_SITE_TAB';
   BEGIN
      Database_SYS.Reset_Column_Table(columns_);
      Database_SYS.Set_Table_Column(columns_, 'DOCUMENT_CODE', 'VARCHAR2(3)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'PHRASE_ID', 'VARCHAR2(10)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'VALID_FROM', 'DATE', 'N');
      Database_SYS.Set_Table_Column(columns_, 'COMPANY', 'VARCHAR2(20)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'CONTRACT', 'VARCHAR2(5)', 'N');
      Database_SYS.Set_Table_Column(columns_, 'VALID_UNTIL', 'DATE', 'N');
      Database_SYS.Set_Table_Column(columns_, 'ROWVERSION', 'DATE', 'N');
      Database_SYS.Set_Table_Column(columns_, 'ROWKEY', 'VARCHAR2(50)', 'Y', '$DEFAULT_NULL$');
      Database_SYS.Create_Or_Replace_Table(table_name_, columns_, '&IFSAPP_DATA', NULL, TRUE);
   END;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_75');
PROMPT Creating DOCUMENT_PHRASE_SITE_PK to DOCUMENT_PHRASE_SITE_TAB

BEGIN
   DECLARE
      columns_    Database_SYS.ColumnTabType;
      table_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_SITE_TAB';
      index_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_SITE_PK';
      rkidx_name_ VARCHAR2(30) := 'DOCUMENT_PHRASE_SITE_RK';
   BEGIN
      Database_SYS.Reset_Column_Table(columns_);
      Database_SYS.Set_Table_Column(columns_, 'DOCUMENT_CODE');
      Database_SYS.Set_Table_Column(columns_, 'PHRASE_ID');
      Database_SYS.Set_Table_Column(columns_, 'VALID_FROM');
      Database_SYS.Set_Table_Column(columns_, 'COMPANY');
      Database_SYS.Set_Table_Column(columns_, 'CONTRACT');
      Database_SYS.Create_Constraint(table_name_, index_name_, columns_, 'P', '&IFSAPP_INDEX', NULL, TRUE, TRUE);
      Database_SYS.Reset_Column_Table(columns_);
      Database_SYS.Set_Table_Column(columns_, 'ROWKEY');
      Database_SYS.Create_Constraint(table_name_, rkidx_name_, columns_, 'U', '&IFSAPP_INDEX', NULL, TRUE, TRUE);

   END;
END;
/

-- ***** DOCUMENT_PHRASE_SITE_TAB End *****

 ----------------------------------------------------------------------------------

-- ****** MPCCOM_ACCOUNTING_TAB Start ******

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_76');
PROMPT Adding columns PARALLEL_AMOUNT, PARALLEL_CURRENCY_RATE, PARALLEL_CONVERSION_FACTOR and CONVERSION_FACTOR to mpccom_accounting_tab.
DECLARE
   table_name_  VARCHAR2(30) := 'MPCCOM_ACCOUNTING_TAB';
   column_      Database_SYS.ColRec;
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('PARALLEL_AMOUNT', 'NUMBER', 'Y');
   Database_SYS.Alter_Table_Column(table_name_, 'A', column_, TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('PARALLEL_CURRENCY_RATE', 'NUMBER', 'Y');
   Database_SYS.Alter_Table_Column(table_name_, 'A', column_, TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('PARALLEL_CONVERSION_FACTOR', 'NUMBER', 'Y');
   Database_SYS.Alter_Table_Column(table_name_, 'A', column_, TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('CONVERSION_FACTOR', 'NUMBER', 'Y');
   Database_SYS.Alter_Table_Column('MPCCOM_ACCOUNTING_TAB', 'A', column_, TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_77');
PROMPT Updating the column currency_rate AND conversion_factor with correct data.
BEGIN
   BEGIN
      UPDATE mpccom_accounting_tab m
         SET m.currency_rate = (value * (SELECT conv_factor
                                                FROM currency_code_tab c
                                               WHERE c.company = m.company
                                                 AND c.currency_code = m.currency_code))/m.curr_amount,
            m.conversion_factor = (SELECT conv_factor
                                     FROM currency_code_tab c
                                    WHERE c.company = m.company
                                      AND c.currency_code = m.currency_code)
       WHERE m.booking_source = 'PURCHASE'
         AND m.conversion_factor IS NULL
         AND m.curr_amount != 0
         AND (m.date_applied) >= (SELECT (TRUNC(reg_date) - 30)
                                   FROM module_tab
                                  WHERE module = 'PURCH'
                                    AND version = '14.0.0');

   END;
   COMMIT;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_78');
PROMPT Updating rowversion in mpccom_accounting_tab

UPDATE mpccom_accounting_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_79');
PROMPT Modify column rowversion in mpccom_accounting_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'MPCCOM_ACCOUNTING_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_80');
PROMPT Adding column INVERTED_CURRENCY_RATE to MPCCOM_ACCOUNTING_TAB
DECLARE
   column_     Database_SYS.ColRec;
BEGIN
   column_ := Database_SYS.Set_Column_Values('INVERTED_CURRENCY_RATE', 'VARCHAR2(5)', 'Y');
   Database_SYS.Alter_Table_Column('MPCCOM_ACCOUNTING_TAB', 'A', column_, TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_81');
PROMPT Updating column CURRENCY_RATE IN MPCCOM_ACCOUNTING_TAB

UPDATE mpccom_accounting_tab mt
SET currency_rate = mt.conversion_factor * mt.conversion_factor / mt.currency_rate,
    inverted_currency_rate = 'TRUE'
WHERE inverted_currency_rate IS NULL
AND booking_source = 'PURCHASE'
AND currency_code NOT IN (SELECT currency_code
                          FROM company_finance_tab cft
                          WHERE cft.company = mt.company)
AND company IN (SELECT company
                FROM currency_code_tab cct
                WHERE cct.company = mt.company
                AND inverted = 'TRUE'
                AND currency_code IN (SELECT currency_code
                                      FROM  company_finance_tab cft
                                      WHERE cft.company = mt.company))
AND (mt.date_applied) >= (SELECT (TRUNC(reg_date) - 30)
                          FROM module_tab
                          WHERE module = 'PURCH'
                          AND version = '14.0.0');
COMMIT;


exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_82');
PROMPT Rename Indexes/Constraints FOR MPCCOM_ACCOUNTING_TAB
BEGIN
   Database_SYS.Rename_Index('MPCCOM_ACCOUNTING1_IX' , 'MPCCOM_ACCOUNTING_IX1', TRUE);
   Database_SYS.Rename_Index('MPCCOM_ACCOUNTING_2_IX', 'MPCCOM_ACCOUNTING_IX2', TRUE);
   Database_SYS.Rename_Index('MPCCOM_ACCOUNTING_3_IX', 'MPCCOM_ACCOUNTING_IX3', TRUE);
END;
/

-- ****** Mpccom_Accounting_Tab End ******

----------------------------------------------------------------------------------

-- ****** Language_SYS_Tab Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_83');
PROMPT Removing translations for user defined basic data.

DECLARE
   CURSOR get_invalid_basic_data IS
      SELECT distinct btr.lu , btr.attribute_key
        FROM BASIC_DATA_TRANSLATION btr
       WHERE btr.system_defined = 'TRUE'
         AND btr.module = 'MPCCOM'
         AND ((btr.lu = 'CustOrdPrintControl' AND NOT EXISTS (SELECT 1
                                                               FROM Cust_Ord_Print_Control_Tab copct
                                                              WHERE copct.print_control_code = btr.attribute_key))

          OR (btr.lu = 'MpccomShipVia' AND NOT EXISTS (SELECT 1
                                                         FROM Mpccom_Ship_Via_Tab msvt
                                                        WHERE msvt.ship_via_code = btr.attribute_key))

          OR (btr.lu = 'MpccomSystemEvent' AND NOt EXISTS (SELECT 1
                                                             FROM Mpccom_System_Event_Tab mset
                                                            WHERE mset.system_event_id = btr.attribute_key))

          OR (btr.lu = 'MpccomSystemParameter' AND NOT EXISTS (SELECT 1
                                                                 FROM Mpccom_System_Parameter_Tab mspt
                                                                WHERE mspt.parameter_code = btr.attribute_key))

          OR (btr.lu = 'Notc' AND NOT EXISTS (SELECT 1
                                                FROM Notc_Tab nt
                                               WHERE nt.notc = btr.attribute_key))

          OR (btr.lu = 'OrderDeliveryTerm' AND NOT EXISTS (SELECT 1
                                                             FROM Order_Delivery_Term_Tab odtt
                                                            WHERE odtt.delivery_terms = btr.attribute_key))

          OR (btr.lu = 'SiteClusterLevel' AND NOT EXISTS (SELECT 1
                                                            FROM Site_Cluster_Level_Tab sclt
                                                           WHERE sclt.site_cluster_id || '~' ||sclt.cluster_level = btr.attribute_key))

          OR (btr.lu = 'SiteClusterNode' AND NOT EXISTS (SELECT 1
                                                           FROM Site_Cluster_Node_Tab scnt
                                                          WHERE scnt.site_cluster_id || '~' || scnt.site_cluster_node_id = btr.attribute_key))

          OR (btr.lu = 'SiteCluster' AND NOT EXISTS (SELECT 1
                                                       FROM Site_Cluster_Tab sct
                                                      WHERE sct.site_cluster_id = btr.attribute_key))

          OR (btr.lu = 'StatisticPeriod' AND NOT EXISTS (SELECT 1
                                                           FROM Statistic_Period_Tab spt
                                                          WHERE spt.stat_year_no || '~' ||spt.stat_period_no || '~' = btr.attribute_key)));
BEGIN
   FOR remrec_ IN get_invalid_basic_data LOOP
      Basic_Data_Translation_API.Remove_Basic_Data_Translation('MPCCOM', remrec_.lu, remrec_.attribute_key);
   END LOOP;
  COMMIT;
END;
/

-- ****** Language_SYS_Tab End *****

--------------------------------------------------------------------------------

-- ***** WARRANTY_LANG_DESC_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_84');
PROMPT Updating rowversion in warranty_lang_desc_tab

UPDATE warranty_lang_desc_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_85');
PROMPT Modify column rowversion in warranty_lang_desc_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'WARRANTY_LANG_DESC_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** WARRANTY_LANG_DESC_TAB End *****

--------------------------------------------------------------------------------

-- ***** SUP_WARRANTY_CONDITION_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_86');
PROMPT Updating rowversion in sup_warranty_condition_tab

UPDATE sup_warranty_condition_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_87');
PROMPT Modify column rowversion in sup_warranty_condition_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'SUP_WARRANTY_CONDITION_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** SUP_WARRANTY_CONDITION_TAB End *****

--------------------------------------------------------------------------------

-- ***** CHARACTERISTIC_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_88');
PROMPT Updating rowversion in characteristic_tab

UPDATE characteristic_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_89');
PROMPT Modify columns rowversion and rowtype in characteristic_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'CHARACTERISTIC_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWTYPE', 'VARCHAR2(30)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_, TRUE);
END;
/
-- ***** CHARACTERISTIC_TAB End *****

--------------------------------------------------------------------------------

-- ***** CUST_ORD_PRINT_CONTROL_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_90');
PROMPT Updating rowversion in cust_ord_print_control_tab

UPDATE cust_ord_print_control_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_91');
PROMPT Modify column rowversion in cust_ord_print_control_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'CUST_ORD_PRINT_CONTROL_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** CUST_ORD_PRINT_CONTROL_TAB End *****

--------------------------------------------------------------------------------

-- ***** PRE_ACCOUNTING_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_92');
PROMPT Updating rowversion in pre_accounting_tab

UPDATE pre_accounting_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_93');
PROMPT Modify column rowversion in pre_accounting_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'PRE_ACCOUNTING_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_94');
PROMPT Rename Indexes/Constraints FOR PRE_ACCOUNTING_TAB
BEGIN
   Database_SYS.Rename_Index('PRE_ACCOUNTING_1_IX' , 'PRE_ACCOUNTING_IX1', TRUE);
END;
/

-- ***** PRE_ACCOUNTING_TAB End *****

--------------------------------------------------------------------------------

-- ***** DOCUMENT_TEXT_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_95');
PROMPT Updating rowversion in document_text_tab

UPDATE document_text_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_96');
PROMPT Modify column rowversion in document_text_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'DOCUMENT_TEXT_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** DOCUMENT_TEXT_TAB End *****

--------------------------------------------------------------------------------

-- ***** CUST_WARRANTY_TYPE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_97');
PROMPT Updating rowversion in cust_warranty_type_tab

UPDATE cust_warranty_type_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_98');
PROMPT Modify column rowversion in cust_warranty_type_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'CUST_WARRANTY_TYPE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** CUST_WARRANTY_TYPE_TAB End *****

--------------------------------------------------------------------------------

-- ***** MPCCOM_PHRASE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_99');
PROMPT Updating rowversion in mpccom_phrase_tab

UPDATE mpccom_phrase_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_100');
PROMPT Modify column rowversion in mpccom_phrase_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'MPCCOM_PHRASE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** MPCCOM_PHRASE_TAB End *****

--------------------------------------------------------------------------------

-- ***** SITE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_101');
PROMPT Updating rowversion in site_tab

UPDATE site_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_102');
PROMPT Modify column rowversion in site_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'SITE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** SITE_TAB End *****

--------------------------------------------------------------------------------

-- ***** PER_OH_ADJUSTMENT_HISTORY_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_103');
PROMPT Updating rowstate in per_oh_adjustment_history_tab

UPDATE per_oh_adjustment_history_tab
SET    rowstate = '<UNDEFINED>'
WHERE  rowstate IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_104');
PROMPT Modify column rowstate in per_oh_adjustment_history_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'PER_OH_ADJUSTMENT_HISTORY_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWSTATE', 'VARCHAR2(20)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_105');
PROMPT Rename Indexes/Constraints FOR PER_OH_ADJUSTMENT_HISTORY_TAB
BEGIN
   Database_SYS.Rename_Index('PER_OH_ADJUSTMENT_HISTORY_1_IX' , 'PER_OH_ADJUSTMENT_HISTORY_IX1', TRUE);
END;
/

-- ***** PER_OH_ADJUSTMENT_HISTORY_TAB End *****

--------------------------------------------------------------------------------

-- ***** USER_DEFAULT_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_106');
PROMPT Updating rowversion in user_default_tab

UPDATE user_default_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_107');
PROMPT Modify column rowversion in user_default_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'USER_DEFAULT_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** USER_DEFAULT_TAB End *****

--------------------------------------------------------------------------------

-- ***** MPCCOM_DEFAULTS_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_108');
PROMPT Updating rowversion in mpccom_defaults_tab

UPDATE mpccom_defaults_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_109');
PROMPT Modify column rowversion in mpccom_defaults_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'MPCCOM_DEFAULTS_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** MPCCOM_DEFAULTS_TAB End *****

--------------------------------------------------------------------------------

-- ***** CUST_WARRANTY_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_110');
PROMPT Updating rowversion in cust_warranty_tab

UPDATE cust_warranty_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_111');
PROMPT Modify column rowversion in cust_warranty_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'CUST_WARRANTY_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** CUST_WARRANTY_TAB End *****

--------------------------------------------------------------------------------

-- ***** SUP_WARRANTY_TYPE_TEMP_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_112');
PROMPT Updating rowversion in sup_warranty_type_temp_tab

UPDATE sup_warranty_type_temp_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_113');
PROMPT Modify column rowversion in sup_warranty_type_temp_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'SUP_WARRANTY_TYPE_TEMP_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** SUP_WARRANTY_TYPE_TEMP_TAB End *****

--------------------------------------------------------------------------------

-- ***** SCRAPPING_CAUSE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_114');
PROMPT Updating rowversion and reject_message in scrapping_cause_tab

UPDATE scrapping_cause_tab
   SET reject_message  = CASE
                            WHEN reject_message IS NULL
                               THEN 'DUMMY_UPGRADE'
                            ELSE
                               reject_message
                         END,
      rowversion       = CASE
                            WHEN rowversion IS NULL
                              THEN SYSDATE
                            ELSE
                               rowversion
                          END
WHERE reject_message IS NULL OR rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_115');
PROMPT Modify columns rowversion AND reject_message in scrapping_cause_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'SCRAPPING_CAUSE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('REJECT_MESSAGE', 'VARCHAR2(35)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** SCRAPPING_CAUSE_TAB End *****

--------------------------------------------------------------------------------

-- ***** MPCCOM_SYSTEM_PARAMETER_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_116');
PROMPT Updating rowversion in mpccom_system_parameter_tab

UPDATE mpccom_system_parameter_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_117');
PROMPT Modify column rowversion in mpccom_system_parameter_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'MPCCOM_SYSTEM_PARAMETER_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('DESCRIPTION', 'VARCHAR2(50)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** MPCCOM_SYSTEM_PARAMETER_TAB End *****

--------------------------------------------------------------------------------

-- ***** ORDER_COORDINATOR_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_118');
PROMPT Updating rowversion in order_coordinator_tab

UPDATE order_coordinator_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_119');
PROMPT Modify column rowversion in order_coordinator_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'ORDER_COORDINATOR_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** ORDER_COORDINATOR_TAB End *****


--------------------------------------------------------------------------------

-- ***** CHARACTERISTIC_TEMPL_CHAR_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_120');
PROMPT Updating the column ROWVERSION IN CHARACTERISTIC_TEMPL_CHAR_TAB with default value

UPDATE characteristic_templ_char_tab
   SET rowversion = SYSDATE
 WHERE rowversion IS NULL;

COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_121');
PROMPT Modify column rowstate in CHARACTERISTIC_TEMPL_CHAR_TAB as mandatory
DECLARE
   column_        Database_SYS.ColRec;
   table_name_    VARCHAR2(30) := 'CHARACTERISTIC_TEMPL_CHAR_TAB';
BEGIN

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', 'DATE', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_122');
PROMPT Modify column rowtype in CHARACTERISTIC_TEMPL_CHAR_TAB as mandatory
DECLARE
   column_        Database_SYS.ColRec;
   table_name_    VARCHAR2(30) := 'CHARACTERISTIC_TEMPL_CHAR_TAB';
BEGIN

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWTYPE', 'VARCHAR2(30)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** CHARACTERISTIC_TEMPL_CHAR_TAB End *****

--------------------------------------------------------------------------------

-- ***** ORDER_COORDINATOR_GROUP_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_123');
PROMPT Updating rowversion in order_coordinator_group_tab

UPDATE order_coordinator_group_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_124');
PROMPT Modify column rowversion in order_coordinator_group_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'ORDER_COORDINATOR_GROUP_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** ORDER_COORDINATOR_GROUP_TAB End *****

--------------------------------------------------------------------------------

-- ***** SUP_WARRANTY_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_125');
PROMPT Updating rowversion in sup_warranty_tab

UPDATE sup_warranty_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_126');
PROMPT Modify column rowversion in sup_warranty_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'SUP_WARRANTY_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** SUP_WARRANTY_TAB End *****

--------------------------------------------------------------------------------

-- ***** COUNTRY_NOTC_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_127');
PROMPT Updating rowversion in country_notc_tab

UPDATE country_notc_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_128');
PROMPT Modify column rowversion in country_notc_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'COUNTRY_NOTC_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** COUNTRY_NOTC_TAB End *****

--------------------------------------------------------------------------------

-- ***** SUP_WARRANTY_TEMP_COND_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_129');
PROMPT Updating rowversion in country_notc_tab

UPDATE sup_warranty_temp_cond_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_130');
PROMPT Modify column rowversion in sup_warranty_temp_cond_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'SUP_WARRANTY_TEMP_COND_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** SUP_WARRANTY_TEMP_COND_TAB End *****

--------------------------------------------------------------------------------

-- ***** WARRANTY_LANG_DESC_TEMP_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_131');
PROMPT Updating rowversion in country_notc_tab

UPDATE warranty_lang_desc_temp_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_132');
PROMPT Modify column rowversion in warranty_lang_desc_temp_tab as mandatory
PROMPT Modify data TYPE OF column note_id in warranty_lang_desc_temp_tab TO NUMBER

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'WARRANTY_LANG_DESC_TEMP_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('NOTE_ID', 'NUMBER', 'Y');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** WARRANTY_LANG_DESC_TEMP_TAB End *****

--------------------------------------------------------------------------------

-- ***** CHARACTERISTIC_TEMPLATE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_133');
PROMPT Updating rowversion in characteristic_template_tab

UPDATE characteristic_template_tab
   SET rowversion = SYSDATE
 WHERE rowversion IS NULL;

COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_134');
PROMPT Modify column rowversion in characteristic_template_tab as mandatory

DECLARE
   column_        Database_SYS.ColRec;
   table_name_    VARCHAR2(30) := 'CHARACTERISTIC_TEMPLATE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', 'DATE', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** CHARACTERISTIC_TEMPLATE_TAB End *****

--------------------------------------------------------------------------------

-- ***** USER_ALLOWED_SITE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_135');
PROMPT Updating rowversion in characteristic_template_tab

UPDATE user_allowed_site_tab
   SET rowversion = SYSDATE
 WHERE rowversion IS NULL;

COMMIT;
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_136');
PROMPT Changing the column ROWVERSION IN USER_ALLOWED_SITE_TAB to a NOT NULL COLUMN
PROMPT Modifying length OF column USER_SITE_TYPE in USER_ALLOWED_SITE_TAB TO 40.

DECLARE
   column_        Database_SYS.ColRec;
   table_name_    VARCHAR2(30) := 'USER_ALLOWED_SITE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', 'DATE', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('USER_SITE_TYPE', 'VARCHAR2(40)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** USER_ALLOWED_SITE_TAB End *****

--------------------------------------------------------------------------------

-- ***** CUST_WARRANTY_TEMP_COND_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_137');
PROMPT Updating rowversion in country_notc_tab

UPDATE cust_warranty_temp_cond_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_138');
PROMPT Modify column rowversion in cust_warranty_temp_cond_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'CUST_WARRANTY_TEMP_COND_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** SUP_WARRANTY_TEMP_COND_TAB End *****

--------------------------------------------------------------------------------

-- ***** WARRANTY_CONDITION_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_139');
PROMPT Updating rowversion in warranty_condition_tab

UPDATE warranty_condition_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_140');
PROMPT Modify column rowversion in warranty_condition_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'WARRANTY_CONDITION_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** WARRANTY_CONDITION_TAB End *****

--------------------------------------------------------------------------------

-- ***** MPCCOM_PHRASE_TEXT_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_141');
PROMPT Updating rowversion in MPCCOM_PHRASE_TEXT_TAB

UPDATE mpccom_phrase_text_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_142');
PROMPT Modify column rowversion in warranty_condition_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'MPCCOM_PHRASE_TEXT_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** MPCCOM_PHRASE_TEXT_TAB End *****

--------------------------------------------------------------------------------

-- ***** CUST_WARRANTY_CONDITION_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_143');
PROMPT Updating rowversion in CUST_WARRANTY_CONDITION_TAB

UPDATE cust_warranty_condition_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_144');
PROMPT Modify column rowversion in warranty_condition_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'CUST_WARRANTY_CONDITION_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** CUST_WARRANTY_CONDITION_TAB End *****

--------------------------------------------------------------------------------

-- ***** ORDER_DELIVERY_TERM_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_145');
PROMPT Updating rowversion in order_delivery_term_tab

UPDATE order_delivery_term_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_146');
PROMPT Modify column rowversion in order_delivery_term_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'ORDER_DELIVERY_TERM_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** ORDER_DELIVERY_TERM_TAB End *****

--------------------------------------------------------------------------------

-- ***** OUTPUT_TYPE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_147');
PROMPT Updating rowversion in output_type_tab

UPDATE output_type_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_148');
PROMPT Modify column rowversion in output_type_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'OUTPUT_TYPE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** OUTPUT_TYPE_TAB End *****

--------------------------------------------------------------------------------

-- ***** CUST_WARRANTY_TYPE_TEMP_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_149');
PROMPT Updating rowversion in CUST_WARRANTY_TYPE_TEMP_TAB

UPDATE cust_warranty_type_temp_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_150');
PROMPT Modify column rowversion in cust_warranty_type_temp_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'CUST_WARRANTY_TYPE_TEMP_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** CUST_WARRANTY_TYPE_TEMP_TAB End *****

--------------------------------------------------------------------------------

-- ***** SUP_WARRANTY_TYPE_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_151');
PROMPT Updating rowversion in SUP_WARRANTY_TYPE_TAB

UPDATE sup_warranty_type_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_152');
PROMPT Modify column rowversion in sup_warranty_type_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'SUP_WARRANTY_TYPE_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** CUST_WARRANTY_TYPE_TEMP_TAB End *****

--------------------------------------------------------------------------------

-- ***** OUTPUT_TYPE_DOCUMENT_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_153');
PROMPT Updating rowversion in output_type_document_tab

UPDATE output_type_document_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_154');
PROMPT Modify column rowversion in output_type_document_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'OUTPUT_TYPE_DOCUMENT_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** OUTPUT_TYPE_DOCUMENT_TAB End *****

--------------------------------------------------------------------------------

-- ***** NOTC_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_155');
PROMPT Updating rowversion in notc_tab

UPDATE notc_tab
SET    rowversion = SYSDATE
WHERE  rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_156');
PROMPT Modify column rowversion in notc_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'NOTC_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/

-- ***** NOTC_TAB End *****

--------------------------------------------------------------------------------

-- ***** STATISTIC_PERIOD_TAB Start *****
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_157');
PROMPT Updating rowversion AND period_closed in statistic_period_tab

UPDATE statistic_period_tab
   SET period_closed  = CASE
                            WHEN period_closed IS NULL
                               THEN CHR(31)
                            ELSE
                               period_closed
                            END,
      rowversion      = CASE
                            WHEN  rowversion IS NULL
                              THEN SYSDATE
                            ELSE
                               rowversion
                            END
WHERE period_closed IS NULL OR rowversion IS NULL;
COMMIT;

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_158');
PROMPT Modify column period_closed, rowversion in statistic_period_tab as mandatory

DECLARE
   column_     Database_SYS.ColRec;
   table_name_ VARCHAR2(30) := 'STATISTIC_PERIOD_TAB';
BEGIN
   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('PERIOD_CLOSED', 'VARCHAR2(1)', 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);

   Database_SYS.Reset_Column(column_);
   column_ := Database_SYS.Set_Column_Values('ROWVERSION', NULL, 'N');
   Database_SYS.Alter_Table_Column(table_name_, 'M', column_,  TRUE);
END;
/
-- ***** STATISTIC_PERIOD_TAB End *****

---------------------------------------------------------------------------------------------

-- ***** SITE_TO_SITE_RESERVE_SETUP_TAB Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_159');
PROMPT Adding new column supply_site_avail_allowed to site_to_site_reserve_setup_tab.

DECLARE
   column_   Database_SYS.ColRec;
BEGIN
   column_ := Database_SYS.Set_Column_Values('SUPPLY_SITE_AVAIL_ALLOWED', 'VARCHAR2(20)', 'N', '''FALSE''', keep_default_ => 'N');
   Database_SYS.Alter_Table_Column('SITE_TO_SITE_RESERVE_SETUP_TAB', 'A', column_, TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_160');
PROMPT Creating INDEX SITE_TO_SITE_RESERVE_SETUP_IX1 for SITE_TO_SITE_RESERVE_SETUP_TAB USING supply_site, demand_site and supply_site_avail_allowed AS columns
DECLARE
   table_name_ VARCHAR2(30) := 'SITE_TO_SITE_RESERVE_SETUP_TAB';
   index_name_ VARCHAR2(30) := 'SITE_TO_SITE_RESERVE_SETUP_IX1';
   columns_    Database_SYS.ColumnTabType;
BEGIN
   Database_SYS.Reset_Column_Table(columns_);
   Database_SYS.Set_Table_Column(columns_, 'SUPPLY_SITE');
   Database_SYS.Set_Table_Column(columns_, 'DEMAND_SITE');
   Database_SYS.Set_Table_Column(columns_, 'SUPPLY_SITE_AVAIL_ALLOWED');
   Database_SYS.Create_Index(table_name_, index_name_, columns_, 'N', '&IFSAPP_INDEX');
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_161');
PROMPT Creating INDEX SITE_TO_SITE_RESERVE_SETUP_IX2 for SITE_TO_SITE_RESERVE_SETUP_TAB USING supply_site, demand_site and supply_site_reserv_type AS COLUMNS

DECLARE
   table_name_ VARCHAR2(30) := 'SITE_TO_SITE_RESERVE_SETUP_TAB';
   index_name_ VARCHAR2(30) := 'SITE_TO_SITE_RESERVE_SETUP_IX2';
   columns_    Database_SYS.ColumnTabType;
BEGIN
   Database_SYS.Reset_Column_Table(columns_);
   Database_SYS.Set_Table_Column(columns_, 'SUPPLY_SITE');
   Database_SYS.Set_Table_Column(columns_, 'DEMAND_SITE');
   Database_SYS.Set_Table_Column(columns_, 'SUPPLY_SITE_RESERVE_TYPE');
   Database_SYS.Create_Index(table_name_, index_name_, columns_, 'N', '&IFSAPP_INDEX');
END;
/

-- ***** SITE_TO_SITE_RESERVE_SETUP_TAB End *****



-- ***** PLAN_PERIOD_UNIT_DEF_TAB Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_162');
PROMPT Rename Indexes/Constraints FOR PLAN_PERIOD_UNIT_DEF_TAB
BEGIN
   Database_SYS.Rename_Index('PLAN_PERIOD_UNIT_DEF_UIX' , 'PLAN_PERIOD_UNIT_DEF_UX1', TRUE);
END;
/

-- ***** PLAN_PERIOD_UNIT_DEF_TAB End *****



-- ***** PROJECT_REFRESH_ACCOUNTING_TAB Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_163');
PROMPT Rename Indexes/Constraints FOR PROJECT_REFRESH_ACCOUNTING_TAB
BEGIN
   Database_SYS.Rename_Index('PROJECT_REFRESH_ACCOUNTING1_IX' , 'PROJECT_REFRESH_ACCOUNTING_IX1', TRUE);
END;
/

-- ***** PROJECT_REFRESH_ACCOUNTING_TAB End *****


-- ***** PLANNING_NETWORK_SITE_TAB Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_164');
PROMPT Rename Indexes/Constraints FOR PLANNING_NETWORK_SITE_TAB
BEGIN
   Database_SYS.Rename_Constraint ('PLANNING_NETWORK_SITE_TAB', 'PLANNING_NETWORK_SITE_TAB_PK', 'PLANNING_NETWORK_SITE_PK', TRUE);
END;
/

-- ***** PLANNING_NETWORK_SITE_TAB End *****


-- ***** PLANNING_NETWORK_TAB Start *****

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_165');
PROMPT Rename Indexes/Constraints FOR PLANNING_NETWORK_TAB
BEGIN
   Database_SYS.Rename_Constraint ('PLANNING_NETWORK_TAB', 'PLANNING_NETWORK_TAB_PK', 'PLANNING_NETWORK_PK', TRUE);
END;
/

-- ***** PLANNING_NETWORK_TAB End *****


---------------------------------------------------------------------------------------------
------------------------------ CREATE NEW SEQUENCES  ----------------------------------------
---------------------------------------------------------------------------------------------

---------------------------------------------------------------------------------------------
------------------------------ RENAME OBSOLETE TABLES ---------------------------------------
---------------------------------------------------------------------------------------------

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_166');
PROMPT Renaming obsolete table MPCCOM_SHOP_CALENDAR_TAB.
BEGIN
   Database_SYS.Rename_Table('MPCCOM_SHOP_CALENDAR_TAB', 'MPCCOM_SHOP_CALENDAR_1410', TRUE);
END;
/

---------------------------------------------------------------------------------------------
------------------------------ DROP OBSOLETE RPT TABLES -------------------------------------
---------------------------------------------------------------------------------------------

---------------------------------------------------------------------------------------------
------------------------------ DROP OBSOLETE PACKAGES ---------------------------------------
---------------------------------------------------------------------------------------------
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_167');
PROMPT Dropping obsolete packages
BEGIN
   Database_SYS.Remove_Package('TRANSIT_QTY_DIRECTION_API');
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_168');
PROMPT Remove obsolete package PACKAGE_TYPE_API, PACKAGE_TYPE_PRICE_API, PACKAGE_TYPE_PALLET_API.

BEGIN
   Database_SYS.Remove_View('PACKAGE_TYPE',             TRUE);
   Database_SYS.Remove_View('PACKAGE_TYPE_PRICE',       TRUE);
   Database_SYS.Remove_View('PACKAGE_TYPE_PALLET',      TRUE);
   Database_SYS.Remove_View('PACKAGE_TYPE_PALLET_LOV',  TRUE);

   Database_SYS.Remove_Package('PACKAGE_TYPE_API',        TRUE);
   Database_SYS.Remove_Package('PACKAGE_TYPE_PRICE_API',  TRUE);
   Database_SYS.Remove_Package('PACKAGE_TYPE_PALLET_API', TRUE);

   Database_SYS.Rename_Table('PACKAGE_TYPE_PALLET_TAB', 'PACKAGE_TYPE_PALLET_1410', TRUE);
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_169');
PROMPT Remove the replication configuration/definition data entered for the obsoleted LU PackageType.

BEGIN
   DELETE FROM replication_object_def_tab
      WHERE business_object = 'PACKAGETYPE';

   DELETE FROM replication_attr_group_def_tab
      WHERE business_object = 'PACKAGETYPE';

   DELETE FROM replication_object_def_tab
      WHERE business_object = 'PACKAGETYPE';

   COMMIT;
END;
/

exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_170');
PROMPT Drop enumeration package Transit_Qty_Direction_API.

BEGIN
   Database_SYS.Remove_Package('TRANSIT_QTY_DIRECTION_API');
END;
/
---------------------------------------------------------------------------------------------
------------------------------ DROP OBSOLETE VIEWS ------------------------------------------
---------------------------------------------------------------------------------------------
-- Removing obsolete views which are no longer support for creatre company flow
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_171');
PROMPT Removing obsolete VIEWS IN CREATE company flow
BEGIN
   Database_SYS.Remove_View('COMPANY_DISTRIBUTION_INFO_PCT', TRUE);
   Database_SYS.Remove_View('COST_TYPE_SOURCE_INDICATOR_PCT', TRUE);
END;
/
---------------------------------------------------------------------------------------------
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Timestamp_172');
PROMPT Upgrade statements in file 1410.upg end here.

-- Nothing is allowed to be placed below here
---------------------------------------------------------------------------------------------
exec Database_SYS.Log_Detail_Time_Stamp('MPCCOM','1410.upg','Done');
